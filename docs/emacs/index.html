<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Emacs &middot; Hippocamplus
    
  </title>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113785126-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', "UA-113785126-1");
  </script>
  
  
  <link rel="stylesheet" href="../css/poole.css">
  <link rel="stylesheet" href="../css/syntax.css">
  <link rel="stylesheet" href="../css/lanyon.css">
  <link rel="stylesheet" href="../css/idea.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <link rel="stylesheet" href="../fa/css/font-awesome.min.css">
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/hippoPlus-icon.png">
  <link rel="shortcut icon" href="../assets/hippoPlus-icon.png">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="../atom.xml">
</head>

  
  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A place to gather useful information I keep on forgetting.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="../">Home</a>
    <a class="sidebar-nav-item " href="../post">Posts</a>

    
    
      
        <a class="sidebar-nav-item " href="../cpp/">CPP</a>
      
    
      
        <a class="sidebar-nav-item  active " href="../emacs/">Emacs</a>
      
    
      
        <a class="sidebar-nav-item " href="../expression/">Expression</a>
      
    
      
        <a class="sidebar-nav-item " href="../latex/">LaTeX</a>
      
    
      
        <a class="sidebar-nav-item " href="../markdown/">Markdown</a>
      
    
      
        <a class="sidebar-nav-item " href="../math/stats/">Math/Stats</a>
      
    
      
        <a class="sidebar-nav-item " href="../org-mode/">Org mode</a>
      
    
      
        <a class="sidebar-nav-item " href="../python/">Python</a>
      
    
      
        <a class="sidebar-nav-item " href="../r/">R</a>
      
    
      
        <a class="sidebar-nav-item " href="../shell/">Shell</a>
      
    
      
        <a class="sidebar-nav-item " href="../tools/">Tools</a>
      
    
      
        <a class="sidebar-nav-item " href="../os/internet/">OS/Internet</a>
      
    
      
        <a class="sidebar-nav-item " href="../about/">About</a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
    
  </nav>

  <div class="sidebar-item">
  </div>
  
  <div class="sidebar-item">
    <div><a href="../index.xml"><i class="fa fa-rss-square" aria-hidden="true"></i> RSS</a></div>
    <p>&copy; 2025 Jean Monlong. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="../" title="Home">Hippocamplus</a>
            <small>My Second Memory</small>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="page">
  <h1 class="page-title">Emacs</h1>
  

<div id="TOC">
<ul>
<li><a href="#basic-configuration" id="toc-basic-configuration">Basic configuration</a></li>
<li><a href="#general-commands" id="toc-general-commands">General commands</a>
<ul>
<li><a href="#kill-ring" id="toc-kill-ring">Kill ring</a></li>
<li><a href="#calculator" id="toc-calculator">Calculator</a></li>
<li><a href="#registerbookmark" id="toc-registerbookmark">Register/bookmark</a></li>
<li><a href="#console-size-split-screen" id="toc-console-size-split-screen">Console-size split screen</a></li>
<li><a href="#move-between-leftright-windows" id="toc-move-between-leftright-windows">Move between left/right windows</a></li>
</ul></li>
<li><a href="#melpa-package-repository" id="toc-melpa-package-repository">MELPA package repository</a></li>
<li><a href="#solarized-theme" id="toc-solarized-theme">Solarized theme</a></li>
<li><a href="#keybindings-to-change-font-size" id="toc-keybindings-to-change-font-size">Keybindings to change font size</a></li>
<li><a href="#for-r" id="toc-for-r">For R</a>
<ul>
<li><a href="#emacs-speaks-statistics" id="toc-emacs-speaks-statistics">Emacs Speaks Statistics</a></li>
<li><a href="#auto-complete" id="toc-auto-complete">Auto-complete</a></li>
<li><a href="#smart-underscores" id="toc-smart-underscores">Smart underscores</a></li>
<li><a href="#poly-mode-for-r-markdown" id="toc-poly-mode-for-r-markdown">Poly-mode for R + Markdown</a></li>
<li><a href="#custom-keyboard-shortcuts" id="toc-custom-keyboard-shortcuts">Custom keyboard shortcuts</a></li>
<li><a href="#jumping-to-function-definitions" id="toc-jumping-to-function-definitions">Jumping to function definitions</a></li>
</ul></li>
<li><a href="#for-writing" id="toc-for-writing">For writing</a>
<ul>
<li><a href="#spell-checking" id="toc-spell-checking">Spell checking</a></li>
<li><a href="#thesaurus-and-synonyms" id="toc-thesaurus-and-synonyms">Thesaurus and synonyms</a></li>
<li><a href="#grammar-checking" id="toc-grammar-checking">Grammar checking</a></li>
<li><a href="#word-count" id="toc-word-count">Word count</a></li>
</ul></li>
<li><a href="#for-latex" id="toc-for-latex">For LaTeX</a>
<ul>
<li><a href="#word-count-1" id="toc-word-count-1">Word count</a></li>
<li><a href="#chunk-folding" id="toc-chunk-folding">Chunk folding</a></li>
</ul></li>
<li><a href="#for-markdown" id="toc-for-markdown">For Markdown</a>
<ul>
<li><a href="#table-formatting" id="toc-table-formatting">Table formatting</a></li>
<li><a href="#markdown-live-preview" id="toc-markdown-live-preview">Markdown live preview</a></li>
</ul></li>
<li><a href="#for-python" id="toc-for-python">For Python</a>
<ul>
<li><a href="#elpy-python-mode" id="toc-elpy-python-mode">Elpy python mode</a></li>
<li><a href="#send-commands-to-a-specific-buffer" id="toc-send-commands-to-a-specific-buffer">Send commands to a specific buffer</a></li>
</ul></li>
<li><a href="#for-ccpp" id="toc-for-ccpp">For C/CPP</a>
<ul>
<li><a href="#tags" id="toc-tags">Tags</a></li>
</ul></li>
<li><a href="#for-javascript" id="toc-for-javascript">For Javascript</a></li>
<li><a href="#for-shell" id="toc-for-shell">For Shell</a></li>
<li><a href="#for-snakemake-workflows" id="toc-for-snakemake-workflows">For Snakemake workflows</a></li>
<li><a href="#for-wdl-workflows" id="toc-for-wdl-workflows">For WDL workflows</a></li>
<li><a href="#for-file-manipulation" id="toc-for-file-manipulation">For file manipulation</a>
<ul>
<li><a href="#compare-two-files-diff" id="toc-compare-two-files-diff">Compare two files (diff)</a></li>
<li><a href="#csvtsv" id="toc-csvtsv">CSV/TSV</a></li>
<li><a href="#dired-mode" id="toc-dired-mode">Dired mode</a></li>
</ul></li>
<li><a href="#for-version-control" id="toc-for-version-control">For Version Control</a></li>
<li><a href="#file-encryption" id="toc-file-encryption">File encryption</a></li>
<li><a href="#on-hpcs" id="toc-on-hpcs">On HPCs</a></li>
<li><a href="#for-online-notes" id="toc-for-online-notes">For online notes</a>
<ul>
<li><a href="#evernote" id="toc-evernote">Evernote</a></li>
<li><a href="#simplenote" id="toc-simplenote">Simplenote</a></li>
</ul></li>
<li><a href="#for-osx" id="toc-for-osx">For OSX</a>
<ul>
<li><a href="#maximize-window-at-opening" id="toc-maximize-window-at-opening">Maximize window at opening</a></li>
<li><a href="#keybindings" id="toc-keybindings">Keybindings</a></li>
<li><a href="#ispell" id="toc-ispell">Ispell</a></li>
<li><a href="#explicit-path-definition" id="toc-explicit-path-definition">Explicit path definition</a></li>
</ul></li>
</ul>
</div>

<p>I use Emacs for almost everything: <strong>coding, writing, taking notes, managing tasks, using version control, preparing presentations</strong>. I’m using it right now! Well I mean, I’m writing this in Emacs. There is also a good chance I’m using it now <em>now</em>.
The two main reasons why I like it and would recommend it:</p>
<ul>
<li>Universal: I can use the same customized/familiar/efficient editor for everything. No need to learn how to use multiple editors.</li>
<li>It can be used in the terminal (super useful to work remotely on servers).</li>
</ul>
<p>If I couldn’t use Emacs, I would definitely learn vim for these same reasons.</p>
<ul>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/index.html">Emacs Manual</a></li>
<li><a href="https://www.masteringemacs.org/article/fun-games-in-emacs">Games in Emacs</a></li>
</ul>
<div id="basic-configuration" class="section level2">
<h2>Basic configuration</h2>
<p>Some of the basic tweaks in my <code>.emacs</code> file:</p>
<pre class="lisp"><code>;; Disable startup screen
(setq inhibit-splash-screen t)
;; Turn the blinking off
(blink-cursor-mode 0)
;; Turn off the tool bar
(tool-bar-mode 0)
;; Change the font
;; (set-default-font &quot;DejaVu Sans Mono 12&quot;) ;; (deprecated?)
(set-frame-font &quot;DejaVu Sans Mono 12&quot; nil t)
;; Show column number
(setq column-number-mode t)
;; turn off alarm bell
(setq ring-bell-function &#39;ignore)</code></pre>
</div>
<div id="general-commands" class="section level2">
<h2>General commands</h2>
<p>Some miscellaneous commands that could be useful:</p>
<ul>
<li>Counting words: select a region and press <code>M-=</code>. There are other ways for LaTeX.</li>
<li>In a console (R, Shell), previous/next line in the history is accessed by <code>M-p</code>/<code>M-n</code>. (Useful when ssh-tunneling with broken key-bindings).</li>
<li>Search for a regular expression in files using <code>M-x lgrep</code> command.</li>
<li>Evaluate lisp commands: <code>C-M-x</code>.</li>
<li>List key bindings currently available: <code>C-h b</code>.</li>
<li>Search Emacs documentation: <code>C-h a</code>.</li>
<li>List key bindings currently available starting with <code>C-c</code>: <code>C-c C-h</code>.</li>
<li>Narrow down to a region with <code>C-x n n</code> (e.g. when refactoring).
<ul>
<li>Widen back to the entire buffer with <code>C-x n w</code>.</li>
</ul></li>
<li>Accents with <code>C-x 8</code> (<code>C-x 8 C-h</code> for list).</li>
<li>Shift a selected chunk with spaces: <code>C-x TAB</code> or <code>C-4 C-x TAB</code> to add a specific number of spaces (here 4).</li>
<li>To insert a tab: <code>C-q &lt;tab&gt;</code></li>
<li>Go to line <code>M-g g</code></li>
<li>Jump to previous “mark”/position: <code>C-u C-SPC</code></li>
<li>Line wrapping
<ul>
<li>Don’t wrap lines: <code>M-x toggle-truncate-lines</code></li>
<li>Wrap line but don’t cut words: <code>M-x visual-line-mode</code></li>
</ul></li>
</ul>
<p>Regexp replace :</p>
<ul>
<li>Command: <code>C-M-%</code>.</li>
<li><code>\(</code> and <code>\)</code> to define groups.</li>
<li><code>\1</code> to refer to the first group.</li>
</ul>
<p>Windows:</p>
<ul>
<li><code>C-x 1</code> remove other windows.</li>
<li><code>C-x 2</code> split window horizontally.</li>
<li><code>C-x 3</code> split window vertically.</li>
<li><code>C-x +</code> balance windows.</li>
<li><code>C-x o</code> move to the next window.</li>
</ul>
<div id="kill-ring" class="section level3">
<h3>Kill ring</h3>
<p>The kill ring is the equivalent of the clipboard, used to copy(kill) and paste(yank) stuff.
Of note, deleting stuff also adds it to the kill ring.</p>
<ul>
<li>Copy a selection to clipboard/kill ring with <code>M-w</code>.</li>
<li>Cut/kill a selection with <code>C-w</code>.</li>
<li>Paste(yank) the last kill <code>C-y</code>.</li>
<li>Yank a specific position in the kill ring, e.g. second-to-last with <code>M-2 C-y</code>.</li>
<li>After yanking (<code>C-y</code>), cycle through earlier kills with <code>M-y</code> (useful if you don’t remember when you copied something).</li>
</ul>
</div>
<div id="calculator" class="section level3">
<h3>Calculator</h3>
<p>Call the <em>quick</em> interface of the calculator with <code>C-x * q</code> (or <code>M-x quick-calc</code>).
The result of the calculation will be shown and saved in the clipboard.</p>
<p>You can also evaluate a calculation in a buffer (make sure it’s flanked but empty lines) with <code>C-x * e</code>, then <code>q</code> to quit the calc mode.</p>
<p>For the standard interface, type <code>C-x * c</code> (or <code>M-x calc</code>).</p>
<p>By default it works in <em>stack</em> mode:</p>
<ul>
<li><code>&lt;ENTER&gt;</code> adds a number to the stack.</li>
<li><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code> performs an basic operations between the last 2 numbers.</li>
<li><code>&lt;TAB&gt;</code> swaps the last 2 numbers.</li>
<li><code>&lt;BACKSPC&gt;</code> removes last number in stack.</li>
<li><code>M-0 &lt;BACKSPC&gt;</code> removes all numbers in stack.</li>
</ul>
<p>To use the more conventional <em>algebraic</em> mode, start with an apostrophe <code>'</code>.</p>
<p>There’s a lot more to it (see <a href="https://www.gnu.org/software/emacs/manual/html_mono/calc.html">manual</a>).
For example it can convert different units with <code>u c</code>, e.g. :</p>
<ul>
<li><code>' 10 mi/h</code>, then <code>u c m/s</code></li>
<li><code>' 1.80 m</code>, then <code>u c mfi</code></li>
<li><code>' 23425 s</code>, then <code>u c hms</code></li>
</ul>
<p>Display the list of units with <code>u v</code>.</p>
</div>
<div id="registerbookmark" class="section level3">
<h3>Register/bookmark</h3>
<p><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Position-Registers.html">Registers</a> to save a position-file with a character.
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Bookmarks.html">Bookmarks</a> to save position-file with long names that persist.</p>
<ul>
<li><code>C-x r SPC</code> save position to register</li>
<li><code>C-x r j</code> <strong>j</strong>ump to register</li>
<li><code>C-x r m</code> <strong>m</strong>ark position in bookmark</li>
<li><code>C-x r b</code> jump to <strong>b</strong>ookmark</li>
</ul>
</div>
<div id="console-size-split-screen" class="section level3">
<h3>Console-size split screen</h3>
<p>I put this function and key binding in my <code>.emacs</code>:</p>
<pre class="lisp"><code>(defun consoleSplit ()
  (interactive)
  (save-excursion
    (split-window-below)
    (enlarge-window 15)))
(global-set-key (kbd &quot;C-x 9&quot;) &#39;consoleSplit)</code></pre>
<p>It splits the buffer in two and reduce the bottom buffer by 15 lines resulting in a large and a small buffer for example for a script and the console.</p>
</div>
<div id="move-between-leftright-windows" class="section level3">
<h3>Move between left/right windows</h3>
<p>I’ve been moving between windows using <code>C-x o</code>.
A quicker way could be to use a keybinding, like <code>Super-Alt left/right</code>:</p>
<pre class="lisp"><code>;; move between left-right buffers using Super-Alt left/right
(use-package windmove
  :ensure nil
  :bind*
  ((&quot;M-s-&lt;left&gt;&quot; . windmove-left)
   (&quot;M-s-&lt;right&gt;&quot; . windmove-right)))</code></pre>
</div>
</div>
<div id="melpa-package-repository" class="section level2">
<h2>MELPA package repository</h2>
<p>Usually packages are just <code>.el</code> files to download and add in the folder defined in <code>.emacs</code> (e.g. <code>(add-to-list 'load-path "~/.emacs.d/lisp/")</code>).
However, there is easier way: <a href="http://www.emacswiki.org/emacs/MELPA">MELPA</a> package manager!</p>
<p>To install it, add to <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;package)
(add-to-list &#39;package-archives &#39;(&quot;melpa&quot; . &quot;https://melpa.org/packages/&quot;) t)
(package-initialize)</code></pre>
<p>Then to find and install a new package, use <code>M-x list-packages</code>, find the package in the list and click on <em>Install</em>.</p>
</div>
<div id="solarized-theme" class="section level2">
<h2>Solarized theme</h2>
<p>I use <a href="http://ethanschoonover.com/solarized">Solarized</a> theme palette.
I installed the <em>color-theme-sanityinc-solarized</em> pacakge directly from <a href="#melpa-package-repository">MELPA</a>.
Then I added the dark version as default with <code>(load-theme 'sanityinc-solarized-dark t)</code>.
To change it interactively I run <code>M-x load-theme</code> and then for example <code>sanityinc-solarized-light</code>.</p>
<p>I also have an alias in my <code>.bashrc</code> to open emacs directly in <em>light</em> mode:</p>
<pre class="sh"><code>alias emacsl=&quot;emacs --eval \&quot;(load-theme &#39;sanityinc-solarized-light t)\&quot;&quot;</code></pre>
<p>Note: a theme can be “unloaded” using <code>M-x disable-theme</code>.</p>
<p>I’ve also created some keybindings to switch between light and dark themes:</p>
<pre class="lisp"><code>(defun lighten ()
  (interactive)
  (load-theme &#39;sanityinc-solarized-light t))
(global-set-key (kbd &quot;C-c b l&quot;) &#39;lighten)
(defun darken ()
  (interactive)
  (load-theme &#39;sanityinc-solarized-dark t))
(global-set-key (kbd &quot;C-c b d&quot;) &#39;darken)</code></pre>
</div>
<div id="keybindings-to-change-font-size" class="section level2">
<h2>Keybindings to change font size</h2>
<p>I like to quickly change the font size of all buffers to adapt to the screen size (e.g. laptop vs external scree).
I’ve added those keybindings in my <code>.emacs</code>:</p>
<pre class="list"><code>(defun largeFonts ()
  (interactive)
  (set-frame-font &quot;DejaVu Sans Mono 14&quot; nil t))
(global-set-key (kbd &quot;C-c l&quot;) &#39;largeFonts)
(defun hugeFonts ()
  (interactive)
  (set-frame-font &quot;DejaVu Sans Mono 16&quot; nil t))
(global-set-key (kbd &quot;C-c h&quot;) &#39;hugeFonts)
(defun smallFonts ()
  (interactive)
  (set-frame-font &quot;DejaVu Sans Mono 12&quot; nil t))
(global-set-key (kbd &quot;C-c s&quot;) &#39;smallFonts)</code></pre>
</div>
<div id="for-r" class="section level2">
<h2>For R</h2>
<div id="emacs-speaks-statistics" class="section level3">
<h3>Emacs Speaks Statistics</h3>
<p>The easiest is to install ESS through <strong>MELPA</strong>.
Otherwise, see below (potentially outdated).</p>
<p>To install ESS, without needing the admin rights, the easiest way is to download and compile it in a dedicated folder (e.g. <code>.emacs.d/lisp/ess</code>):</p>
<pre class="sh"><code>git clone https://github.com/emacs-ess/ESS.git .emacs.d/lisp/ess
cd .emacs.d/lisp/ess
make</code></pre>
<p>Then add these lines to <code>~/.emacs</code>:</p>
<pre class="lisp"><code>(add-to-list &#39;load-path &quot;~/.emacs.d/lisp/ess/lisp/&quot;)
(load &quot;ess-site&quot;)</code></pre>
<p>I also have these ESS config:</p>
<pre class="lisp"><code>(setq ess-default-style &#39;DEFAULT)
(setq ess-indent-level 2)
(setq ess-ask-for-ess-directory nil)
(setq ess-r-package-auto-set-evaluation-env nil)</code></pre>
<p>The last one took me some times to figure out: when developing a R package, commands were evaluated in another environment so the objects didn’t exist in the usual R buffer (which was driving me crazy).</p>
<p>Recently I had an issue where the startup directory was not the buffer’s directory but the root of the git repo.
The solution was to define a <code>ess-directory-function</code> like so:</p>
<pre class="lisp"><code>(defun my-ess-directory-function ()
  default-directory)
(setq ess-directory-function #&#39;my-ess-directory-function)</code></pre>
</div>
<div id="auto-complete" class="section level3">
<h3>Auto-complete</h3>
<p>To get auto-completion (with objects, functions or parameters) I use <em>auto-complete</em>. It’s also available through MELPA.</p>
<p>Then I configure it in my <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;auto-complete-config)
(add-to-list &#39;ac-dictionary-directories &quot;~/.emacs.d/lisp/ac-dict&quot;)
(ac-config-default)
(setq ac-auto-start nil)
(define-key ac-mode-map [C-tab] &#39;auto-complete)
(define-key ac-completing-map &quot;\t&quot; &#39;ac-complete)
(define-key ac-completing-map &quot;\r&quot; nil)
(setq ac-quick-help-delay 0.1)</code></pre>
</div>
<div id="smart-underscores" class="section level3">
<h3>Smart underscores</h3>
<p>By default, pressing underscore will insert a <code>&lt;-</code> instead of a <code>_</code>.
This was supposed to ease the pain of writing assignments with the arrow.
However, now we actually want a <code>_</code> most of the time (e.g. for <em>ggplot2</em> functions).
Using smart underscores, <code>&lt;-</code> will be inserted only when following a space.</p>
<p>It’s available in <strong>MELPA</strong>.
Otherwise simply put <a href="http://www.emacswiki.org/emacs/download/ess-smart-underscore.el">this <em>.el</em> file</a> in the load path and add these lines to <code>~/.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;ess-smart-underscore)
(setq ess-S-underscore-when-last-character-is-a-space t)</code></pre>
</div>
<div id="poly-mode-for-r-markdown" class="section level3">
<h3>Poly-mode for R + Markdown</h3>
<p>With polymode (MELPA), the mode depends on the position of the cursor in the document.
For R + Markdown it means that we can edit the Markdown part in <em>markdown-mode</em> and run the R code as if in a R script.</p>
<p>I added this to my <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;poly-R)
(require &#39;poly-markdown)
(add-to-list &#39;auto-mode-alist &#39;(&quot;\\.Rmd\\&#39;&quot; . poly-markdown+r-mode))
(add-to-list &#39;auto-mode-alist &#39;(&quot;\\.qmd\\&#39;&quot; . poly-markdown+r-mode))</code></pre>
</div>
<div id="custom-keyboard-shortcuts" class="section level3">
<h3>Custom keyboard shortcuts</h3>
<p>Some keybindings I set up but don’t end up using that much…</p>
<div id="to-render-rmarkdown" class="section level4">
<h4>To render RMarkdown</h4>
<p>I <a href="https://stat.ethz.ch/pipermail/ess-help/2004-September/002092.html">tweaked</a> a function to run <code>rmarkdown::render</code> on the current buffer and bound it to <code>C-c C-e</code>.</p>
<p>In <code>.emacs</code>:</p>
<pre class="lisp"><code>(defun renderRmd ()
  (interactive)
  (save-window-excursion
    (message &quot;Rendering %S&quot; (buffer-file-name))
    (shell-command (format &quot;Rscript -e &#39;rmarkdown::render(%S, output_format=\&quot;all\&quot;)&#39;&quot; (buffer-file-name)))
    (message &quot;Done&quot;)))
(add-hook &#39;markdown-mode-hook
          (lambda ()
            (local-set-key (kbd &quot;C-c C-e&quot;) &#39;renderRmd)))
(add-hook &#39;ess-mode-hook
          (lambda ()
            (local-set-key (kbd &quot;C-c C-e&quot;) &#39;renderRmd)))
(add-hook &#39;yaml-mode-hook
          (lambda ()
            (local-set-key (kbd &quot;C-c C-e&quot;) &#39;renderRmd)))</code></pre>
<p>The key binding is active in markdown documents, R scripts, and YAML blocks (to covert all elements in a R-Markdown document).</p>
</div>
<div id="to-send-a-dev.off" class="section level4">
<h4>To send a <code>dev.off()</code></h4>
<p>When working remotely, I send <code>dev.off()</code> to the R buffer using <code>C-c C-d C-d</code> to “update” the PDF opened from a mounted server.</p>
<p>In <code>.emacs</code>:</p>
<pre class="lisp"><code>(defun devoff ()
  (interactive)
  (save-excursion
    (message &quot;Closing device&quot;)
    (setq ess-command &quot;dev.off()&quot;)
    (ess-execute ess-command &#39;buffer nil nil)))
(add-hook &#39;ess-mode-hook
          (lambda ()
            (local-set-key (kbd &quot;C-c C-d C-d&quot;) &#39;devoff)))</code></pre>
<p>Note: I use <code>options(device=function() pdf(width=9, height=7))</code> to specify the dimensions of the default <em>Rplots.pdf</em> created.</p>
</div>
</div>
<div id="jumping-to-function-definitions" class="section level3">
<h3>Jumping to function definitions</h3>
<p>When developping a package, use the typical commands:</p>
<ul>
<li><code>M-.</code> jump to a definition</li>
<li><code>M-,</code> jump back.</li>
</ul>
<p>Build the <em>TAGS</em> file with <code>M-x ess-build-tags-for-directory</code>.</p>
<p>To use, activating the mode <code>M-x xref-etags-mode</code> might be necessary.
I added this to my <code>.emacs</code>:</p>
<pre class="lisp"><code>(add-hook &#39;ess-mode-hook (lambda () (xref-etags-mode)))</code></pre>
</div>
</div>
<div id="for-writing" class="section level2">
<h2>For writing</h2>
<p>When writing I prefer when long lines are wrapped without cutting a word: <code>M-x visual-line-mode</code></p>
<div id="spell-checking" class="section level3">
<h3>Spell checking</h3>
<p>I use <em>ispell</em> and <em>flyspell</em>.</p>
<p>To turn on the live spell check automatically for Latex and markdown documents:</p>
<pre class="lisp"><code>(add-hook &#39;LaTeX-mode-hook &#39;flyspell-mode)
(add-hook &#39;markdown-mode-hook &#39;flyspell-mode)</code></pre>
<p>I use the <em>american</em> dictionary by default:</p>
<pre class="lisp"><code>(setq ispell-dictionary &quot;american&quot;)
(setq ispell-local-dictionary &quot;american&quot;)</code></pre>
<p>Most useful key binding (more at <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Spelling.html">Emacs Manual</a>):</p>
<ul>
<li><code>M-$</code> to trigger spell checking on a word (for example flagged by flyspell).</li>
<li><code>M-x ispell-buffer</code> to launch spell checking. See also <code>ispell-region</code> or <code>ispell-continue</code>.</li>
</ul>
<p>In the <code>ispell</code> interface, select a correction (<code>0..9</code>), skip (<code>SPC</code>) or update the dictionary (<code>a</code>ccept/<code>i</code>nsert).</p>
<p>If using a GUI, <code>flyspell-popup</code> (available on MELPA) provides a convenient pop-up interface that I bound to <code>C-;</code> with:</p>
<pre class="lisp"><code>(require &#39;flyspell)
(define-key flyspell-mode-map (kbd &quot;C-;&quot;) &#39;flyspell-popup-correct)</code></pre>
<p>On Ubuntu, more dictionaries are installed using <a href="http://aspell.net/">aspell</a> packages, for example the <code>aspell-fr</code> for the French dictionary.</p>
</div>
<div id="thesaurus-and-synonyms" class="section level3">
<h3>Thesaurus and synonyms</h3>
<p>I tested the <code>synosaurus</code> package a few times (available in MELPA).
It’s not as user friendly as some online resources but a good offline alternative.
It uses the <a href="https://en.wikipedia.org/wiki/WordNet">WordNet</a> database through the <code>wn</code> command line.
The shortcut to list synonyms is <code>C-c C-s l</code>.</p>
<p>In my <code>.emacs</code> I added the <code>synosaurus-mode</code> minor mode:</p>
<pre class="lisp"><code>(add-hook &#39;LaTeX-mode-hook &#39;synosaurus-mode)
(add-hook &#39;markdown-mode-hook &#39;synosaurus-mode)
;; disable keybinding conflicting with markdown&#39;s
(eval-after-load &quot;synosaurus&quot;
  &#39;(define-key synosaurus-mode-map (kbd &quot;C-c C-s i&quot;) nil))
(eval-after-load &quot;synosaurus&quot;
  &#39;(define-key synosaurus-mode-map (kbd &quot;C-c C-s l&quot;) nil))</code></pre>
</div>
<div id="grammar-checking" class="section level3">
<h3>Grammar checking</h3>
<p>The <code>langtool</code> package is available in MELPA.
It uses the <a href="https://languagetool.org/">LanguageTool</a> JAR to highlight potential grammar problems (downloaded from <a href="https://languagetool.org/download/LanguageTool-stable.zip">here</a>).
In my <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;langtool)
(setq langtool-language-tool-jar &quot;/usr/local/Cellar/languagetool/3.8/libexec/languagetool-commandline.jar&quot;)
(setq langtool-default-language &quot;en-US&quot;)
(setq langtool-mother-tongue &quot;fr&quot;)
;; (setq langtool-disabled-rules &#39;(&quot;WHITESPACE_RULE&quot;)) ;; optional</code></pre>
<p>Specific rules can be disabled, see list of rules <a href="https://community.languagetool.org/rule/list?lang=en-US">here</a>.
For example, <em>WHITESPACE_RULE</em> for LaTeX.</p>
<p>Then:</p>
<ul>
<li><code>M-x langtool-check</code> to highlight problems.</li>
<li><code>M-x langtool-check-done</code> to remove highlighting.</li>
<li><code>M-x langtool-switch-default-language</code> to switch to another language, e.g. <code>fr</code></li>
</ul>
</div>
<div id="word-count" class="section level3">
<h3>Word count</h3>
<p>In general, I use the <code>M-=</code> keybindings.
Otherwise, I’ve implemented a small function to insert the number of words and characters below the selected region on which it is run.</p>
<pre class="lisp"><code>(defun count-words-insert (start end)
  (interactive &quot;r&quot;)
  (let (wordCount)
      (save-restriction
        (narrow-to-region start end)
        (goto-char (point-min))
        (setq wordCount (count-matches &quot;\\sw+&quot;))
        (goto-char (point-max))
        (insert (format &quot;\n(%d characters, %d words)\n&quot; (- end start) wordCount)))))</code></pre>
</div>
</div>
<div id="for-latex" class="section level2">
<h2>For LaTeX</h2>
<p>I put some Emacs tricks (e.g. for table manipulation) on the <a href="https://jmonlong.github.io/Hippocamplus/latex">LaTeX page</a>.</p>
<p>I general I prefer to use AUCTeX (available through MELPA).
It handles multi-file documents and keeps the annoying compilation buffer closed.
My configuration is:</p>
<pre class="lisp"><code>(setq TeX-PDF-mode t)
(setq-default TeX-master nil)
(setq LaTeX-verbatim-environments-local &#39;(&quot;lstlisting&quot;))</code></pre>
<div id="word-count-1" class="section level3">
<h3>Word count</h3>
<p>To count the full document, including <code>\include</code>/<code>\input</code> documents, I call <code>texcount</code> with <code>M-x latex-word-count</code> after adding this to the <code>.emacs</code> configuration:</p>
<pre class="lisp"><code>(defun latex-word-count ()
  (interactive)
  (shell-command (concat &quot;texcount &quot; &quot;-sum -inc -sub=section &quot; (buffer-file-name))))</code></pre>
<p>To count words in a selected region, I use <code>detex</code> to strip LaTeX commands and <code>wc</code> to count words:</p>
<pre class="lisp"><code>(defun latex-wc-region (&amp;optional b e) 
  (interactive &quot;r&quot;)
  (shell-command-on-region b e &quot;detex | wc -w&quot;))</code></pre>
</div>
<div id="chunk-folding" class="section level3">
<h3>Chunk folding</h3>
<p>Sometimes I like to fold chunk of the document to improve clarity, e.g. frames in beamer document or figure/table in a manuscript.
I added to my <code>.emacs</code>:</p>
<pre class="lisp"><code>(add-hook &#39;LaTeX-mode-hook (lambda ()
			     (add-to-list &#39;LaTeX-fold-env-spec-list &#39;(&quot;[frame]&quot; (&quot;frame&quot;)))
			     (setq TeX-fold-macro-spec-list (list ()))
			     (TeX-fold-mode 1)))</code></pre>
<p>Then the main key bindings are:</p>
<ul>
<li><code>C-c C-o C-e</code> folds an environment.</li>
<li><code>C-c C-o C-r</code> folds a region.</li>
<li><code>C-c C-o i</code> unfold an item.</li>
<li><code>C-c C-o C-f</code> to switch the fold-mode on/off</li>
</ul>
<p>Because I added <em>frame</em> in the list, I can select a bunch of frames, press <code>C-c C-o C-r</code> and they all get folded (but not the rest).
Otherwise, I manually fold the frames/figures/tables that are distracting.</p>
</div>
</div>
<div id="for-markdown" class="section level2">
<h2>For Markdown</h2>
<ul>
<li><code>C-c C-s s</code> <strong>bold</strong> (<strong>s</strong>trong).</li>
<li><code>C-c C-s e</code> <em>italic</em> (<strong>e</strong>mphasis).</li>
<li><code>C-c C-s s</code> <code>code</code> (<strong>c</strong>ode).</li>
<li><code>C-c C-o</code> follow a link.</li>
<li><code>C-c C-x C-l</code> to toggle the <em>hide-url</em> mode to get shorter links.</li>
<li><code>C-c C-p</code>/<code>C-c C-n</code> jump to previous/next outline.</li>
</ul>
<div id="table-formatting" class="section level3">
<h3>Table formatting</h3>
<p>Pressing <code>TAB</code> when the cursor is in a heading will cycle through <em>heading-only/full</em> view.</p>
<p><code>M-x orgtbl-mode</code> to format markdown tables like org-tables.</p>
</div>
<div id="markdown-live-preview" class="section level3">
<h3>Markdown live preview</h3>
<p><a href="https://github.com/ancane/markdown-preview-mode"><code>markdown-preview-mode</code></a> opens a page on the web browser and update it every time the buffer is saved.</p>
</div>
</div>
<div id="for-python" class="section level2">
<h2>For Python</h2>
<div id="elpy-python-mode" class="section level3">
<h3>Elpy python mode</h3>
<p><a href="https://github.com/jorgenschaefer/elpy">Elpy</a> combines several packages to provide a lot of nice features, e.g. code coloring, completion, syntax checks, formatting recommendations.</p>
<p>To install the dependencies for elpy:</p>
<pre class="sh"><code>pip install jedi autopep8 flake8</code></pre>
<p>Then I have in my <code>.emacs</code>:</p>
<pre class="lisp"><code>(package-initialize) ;; if not present already
(elpy-enable)
(setq elpy-company-add-completion-from-shell t)
(setq elpy-shell-use-project-root nil)
(setq elpy-shell-display-buffer-after-send t)
(setq elpy-shell-starting-directory &#39;current-directory)</code></pre>
<p>Keybindings that I use:</p>
<ul>
<li><code>C-RET</code> or <code>C-c C-y C-e</code> to send line to python and step.</li>
<li><code>C-c C-y r</code> sends region to python. Same for <strong>f</strong>unction, <strong>c</strong>lass or <strong>b</strong>uffer.</li>
<li><code>C-up</code>/<code>C-down</code> navigates between lines with same indentation as the current line.</li>
<li><code>C-c C-d</code> open doc for symbol on point.</li>
<li><code>C-c C-z</code> switch to <em>Python</em> shell (or start one).</li>
<li><code>C-c C-n</code> go to next flymake error (previous with <em>p</em>).</li>
<li><code>C-c C-e</code> edit all occurrences of symbol on point for refactoring (narrow if needed).</li>
</ul>
<p>Of note, I <em>used to</em> use the Jupyter console instead of the default interpreter.
So <code>pip install jupyter</code> and in my <code>.emacs</code>:</p>
<pre class="lisp"><code>(setq python-shell-interpreter &quot;jupyter&quot;
      python-shell-interpreter-args &quot;console --simple-prompt&quot;
      python-shell-prompt-detect-failure-warning nil)
(add-to-list &#39;python-shell-completion-native-disabled-interpreters
             &quot;jupyter&quot;)</code></pre>
</div>
<div id="send-commands-to-a-specific-buffer" class="section level3">
<h3>Send commands to a specific buffer</h3>
<p>Sometimes I want to send the commands to a specific buffer. For example, when testing new packages within a Docker container, I start a <em>shell</em> buffer, run docker and python.</p>
<p>I installed <em>isend</em> from MELPA.
Then I simply go to the <em>code</em> buffer and run <code>M-x isend-associate RET *shell* RET</code>.
At this point <code>C-Enter</code> will send the command to the <em>shell</em> buffer.</p>
</div>
</div>
<div id="for-ccpp" class="section level2">
<h2>For C/CPP</h2>
<ul>
<li>Set the default indentation level with the <code>c-basic-offset</code> (e.g. setting it with <code>M-x set-variable</code>).</li>
<li>To jump to the matching <code>{</code>/<code>}</code>: <code>C-M-f</code>/<code>C-M-b</code></li>
</ul>
<p>I’m following <a href="https://tuhdo.github.io/c-ide.html">this tutorial</a>.</p>
<ul>
<li>The speedbar is nice to get an overview of the files. <code>M-x speedbar</code>.</li>
<li>A better speedbar is provided by <em>sr-speedbar</em> and toogled with <code>M-x sr-speedbar-toggle</code>.</li>
</ul>
<div id="tags" class="section level3">
<h3>Tags</h3>
<p>I installed <a href="http://www.gnu.org/software/global/">GNU Global</a> and the <em>ggtags</em> package from MELPA.
Then added to <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;ggtags)
(add-hook &#39;c-mode-common-hook
          (lambda ()
            (when (derived-mode-p &#39;c-mode &#39;c++-mode &#39;java-mode &#39;asm-mode)
              (ggtags-mode 1))))

(define-key ggtags-mode-map (kbd &quot;C-c g s&quot;) &#39;ggtags-find-other-symbol)
(define-key ggtags-mode-map (kbd &quot;C-c g h&quot;) &#39;ggtags-view-tag-history)
(define-key ggtags-mode-map (kbd &quot;C-c g r&quot;) &#39;ggtags-find-reference)
(define-key ggtags-mode-map (kbd &quot;C-c g f&quot;) &#39;ggtags-find-file)
(define-key ggtags-mode-map (kbd &quot;C-c g c&quot;) &#39;ggtags-create-tags)
(define-key ggtags-mode-map (kbd &quot;C-c g u&quot;) &#39;ggtags-update-tags)</code></pre>
<p>Useful shortcuts:</p>
<ul>
<li><code>M-.</code> to jump to a definition or reference file.
<ul>
<li><code>M-p</code>/<code>M-n</code> to switch among files with results.</li>
<li><code>M-,</code> to go back to the previous positions.</li>
</ul></li>
</ul>
<p><em>More soon…</em></p>
<p>List occurrences of current word in the buffer.</p>
</div>
</div>
<div id="for-javascript" class="section level2">
<h2>For Javascript</h2>
<p>Set indentation and turn on for <em>.mjs</em> files.</p>
<pre class="lisp"><code>(setq js-indent-level 2)
(add-to-list &#39;auto-mode-alist &#39;(&quot;\\.mjs\\&#39;&quot; . javascript-mode))
</code></pre>
</div>
<div id="for-shell" class="section level2">
<h2>For Shell</h2>
<p>To open a <em>shell</em> buffer, type <code>M-x shell</code>.</p>
<p>Then I use the <a href="http://www.emacswiki.org/emacs/essh"><em>Emacs Speaks SHELL</em></a> package, that adds all the nice commands to send lines/regions from a script to a Shell buffer. In my <code>.emacs</code> I added:</p>
<pre class="lisp"><code>(require &#39;essh)
(defun essh-sh-hook ()
  (define-key sh-mode-map &quot;\C-c\C-r&quot; &#39;pipe-region-to-shell)
  (define-key sh-mode-map &quot;\C-c\C-b&quot; &#39;pipe-buffer-to-shell)
  (define-key sh-mode-map &quot;\C-c\C-j&quot; &#39;pipe-line-to-shell)
  (define-key sh-mode-map &quot;\C-c\C-n&quot; &#39;pipe-line-to-shell-and-step)
  (define-key sh-mode-map &quot;\C-c\C-f&quot; &#39;pipe-function-to-shell)
  (define-key sh-mode-map &quot;\C-c\C-d&quot; &#39;shell-cd-current-directory))
(add-hook &#39;sh-mode-hook &#39;essh-sh-hook)</code></pre>
<p>The shortcuts are self-explanatory.</p>
</div>
<div id="for-snakemake-workflows" class="section level2">
<h2>For Snakemake workflows</h2>
<p>I’ve just switched the dedicated mode on all files starting with <em>Snakefile</em>.</p>
<pre class="lisp"><code>(add-to-list &#39;auto-mode-alist &#39;(&quot;Snakefile*&quot; . snakemake-mode))</code></pre>
</div>
<div id="for-wdl-workflows" class="section level2">
<h2>For WDL workflows</h2>
<p>Install through MELPA:</p>
<ul>
<li><a href="https://github.com/zhanxw/wdl-mode"><em>wdl-mode</em></a> for syntax highlighting and indentation.</li>
<li><a href="https://github.com/jmonlong/poly-wdl"><em>poly-wdl</em></a> to switch to “shell” mode within <em>command</em> chunks.</li>
</ul>
<p>In my <code>.emacs</code> file:</p>
<ul>
<li><code>(setq wdl-indent-level 4)</code> to change the indentation size.</li>
<li><code>(setq-default indent-tabs-mode nil)</code> to make sure tabs are made of spaces (WDL doesn’t like mixing spaces and tabs).</li>
</ul>
<p>Eventually the minor mode <code>whitespace-mode</code> is useful to explicitly show spaces and double-check that none of the indentations are made of tabs.</p>
<p>There is also an <a href="https://github.com/broadinstitute/wdl-ide">LSP implementation for WDL</a> that can be used by Emacs to provide syntax validation and (some) auto-completion.</p>
<ul>
<li>Install through MELPA: <code>lsp-mode</code>, <code>lsp-ui</code> and <code>company-lsp</code>.</li>
<li>Install the <a href="https://pypi.org/project/wdl-lsp/">LSP server for WDL</a>: <code>pip install wdl-lsp</code> (or <code>pip3</code>).</li>
<li>Add to <code>.emacs</code> file:</li>
</ul>
<pre class="lisp"><code>(require &#39;lsp-mode)
(add-to-list &#39;lsp-language-id-configuration &#39;(wdl-mode . &quot;wdl&quot;))
(defgroup lsp-wdl nil
  &quot;LSP support for WDL.&quot;
  :group &#39;lsp-mode
  :link &#39;(url-link &quot;https://github.com/broadinstitute/wdl-ide&quot;))
(defcustom lsp-wdl-server-command &quot;wdl-lsp&quot;
  &quot;Command to start wdl-lsp.&quot;
  :group &#39;lsp-wdl
  :risky t
  :type &#39;file)
(lsp-register-client
 (make-lsp-client :new-connection (lsp-stdio-connection
                                   (lambda () lsp-wdl-server-command))
                  :major-modes &#39;(wdl-mode)
                  :priority -1
                  :server-id &#39;wdl))
(add-hook &#39;wdl-mode-hook #&#39;lsp)
;; Syntax validation interface
(require &#39;lsp-ui)
(add-hook &#39;lsp-mode-hook &#39;lsp-ui-mode)
(setq lsp-ui-sideline-enable nil)
;; To get some auto-completion
(require &#39;company-lsp)
(push &#39;company-lsp company-backends)</code></pre>
<p>The first time a file is opened, lsp will ask what is the root of the project.
This can be changed later using <code>M-x lsp-workspace-folders-remove</code> and <code>M-x lsp-workspace-folders-add</code>.</p>
</div>
<div id="for-file-manipulation" class="section level2">
<h2>For file manipulation</h2>
<p>To visualize blanks (tabs, spaces, new lines) I use the minor mode <code>whitespace-mode</code>.</p>
<p>To disable line wrapping: <code>M-x toggle-truncate-lines</code></p>
<p>To insert a tab: <code>C-q &lt;tab&gt;</code></p>
<div id="compare-two-files-diff" class="section level3">
<h3>Compare two files (diff)</h3>
<p>To compare and merge two files, use Ediff mode by calling <code>M-x ediff</code> (or <code>M-x ediff-buffers</code> when <em>diff</em> should be done between existing buffers).
Once launched press:</p>
<ul>
<li><code>|</code> to change the split mode (vertical/horizontal).</li>
<li><code>n</code>/<code>p</code> to go to the next/previous difference.</li>
<li><code>a</code> to put A’s version to B.</li>
<li><code>b</code> to put B’s version to A.</li>
<li><code>q</code> to quit.</li>
<li><code>?</code> to get the full list of shortcuts.</li>
</ul>
</div>
<div id="csvtsv" class="section level3">
<h3>CSV/TSV</h3>
<p>I use the <code>csv-mode</code> and the command <code>c-c c-a</code> to align columns.
By default it understand <code>,</code>, <code>;</code> and <code>\t</code> as separator.
If not I think the variable to customize is <code>csv-separators</code>.</p>
</div>
<div id="dired-mode" class="section level3">
<h3>Dired mode</h3>
<p>When opening a directory (<code>C-x C-f</code>), Emacs shows the files in Dired mode:</p>
<ul>
<li><code>d</code>/<code>u</code> mark/unmark files for deletion.</li>
<li><code>x</code> deletes files marked for deletion.</li>
<li><code>% d regexp &lt;RET&gt;</code> flags file matching a regexp.</li>
<li><code>R</code> rename a file.</li>
<li><code>C</code> copy a file.</li>
</ul>
<p>Added to my <code>.emacs</code> to show human-readable sizes:</p>
<pre class="lisp"><code>(setq dired-listing-switches &quot;-aBhl&quot;)</code></pre>
</div>
</div>
<div id="for-version-control" class="section level2">
<h2>For Version Control</h2>
<p>The built-in interface supports Git:</p>
<ul>
<li><code>C-x v +</code> to pull.</li>
<li><code>C-x v d</code> to show the status.</li>
<li><code>C-x v v</code> to commit.</li>
<li><code>C-x v P</code> to push.</li>
<li><code>C-x v i</code> to add.</li>
<li><code>C-x v =</code> to see differences.</li>
</ul>
<p>A more popular Git interface is <a href="https://www.emacswiki.org/emacs/Magit">Magit</a>.
After installing <em>magit</em> using MELPA, invoke the main buffer with <code>M-x magit-status</code> (or <code>C-x g</code>) and then:</p>
<ul>
<li><code>?</code> to list keystroke/commands.</li>
<li><code>F u</code> to pull.</li>
<li><code>g</code> to refresh.</li>
<li><code>s</code> to stage file.</li>
<li><code>c c</code> to commit.</li>
<li><code>P u</code> to push.</li>
</ul>
<p>Magit configuration in my <code>.emacs</code>:</p>
<pre class="lisp"><code>(setq vc-handled-backends (delq &#39;Git vc-handled-backends))
(global-set-key (kbd &quot;C-x g&quot;) &#39;magit-status)</code></pre>
</div>
<div id="file-encryption" class="section level2">
<h2>File encryption</h2>
<p>Encryption is integrated directly. Just add the extension <code>.gpg</code> to a file.</p>
</div>
<div id="on-hpcs" class="section level2">
<h2>On HPCs</h2>
<ul>
<li>See how to setup GNU screen to avoid visual glitches in the <a href="../shell/#gnu-screen">Shell section</a>.</li>
<li><code>M-x ess-remote</code> to use a <em>shell</em> buffer as R buffer to send commands to. For example to send commands from a local R script to an R session on a server (connected through ssh in the <em>shell</em> buffer), or on an interactive job (launched in the <em>shell</em> buffer).</li>
</ul>
<p>Remote files can be accessed/edited by opening them with <code>/ssh:USER@SERVER:/path/to/file</code>.
A shortcut to connect to a server might be, in the <code>.emacs</code>:</p>
<pre class="lisp"><code>(defun connect-SERVER ()
  (interactive)
  (dired &quot;/ssh:USER@SERVER:/path/to/root&quot;))</code></pre>
</div>
<div id="for-online-notes" class="section level2">
<h2>For online notes</h2>
<p><em>Update: I don’t use this anymore. I take temporary notes in Simplenote, some of which I save in org-mode if I want to keep them.</em></p>
<div id="evernote" class="section level3">
<h3>Evernote</h3>
<p>I use <a href="https://evernote.com/">Evernote</a> for easily keep notes synchronized across computer, tablet and smartphone. And there is a <a href="https://github.com/pymander/evernote-mode">Emacs mode for it</a> (of course!).</p>
<p>To install it, first run:</p>
<pre class="sh"><code>gem install evernote_oauth
git clone https://github.com/pymander/evernote-mode
cd evernote-mode/ruby
ruby setup.rb</code></pre>
<p>I had an error with the last command and fixed it by changing <code>::Config::CONFIG</code> with <code>::RbConfig::CONFIG</code> in <code>setup.rb</code>.</p>
<p>Then, copy <code>evernote-mode.el</code> to the load path and add to <code>.emacs</code>:</p>
<pre class="lisp"><code>(require &#39;evernote-mode)
(setq evernote-developer-token &quot;&lt;MYTOKEN&gt;&quot;)
(setq evernote-username &quot;&lt;MYUSERNAME&gt;&quot;)
(setq evernote-enml-formatter-command &#39;(&quot;w3m&quot; &quot;-dump&quot; &quot;-I&quot; &quot;UTF8&quot; &quot;-O&quot; &quot;UTF8&quot;))
(global-set-key &quot;\C-cec&quot; &#39;evernote-create-note)
(global-set-key &quot;\C-ceo&quot; &#39;evernote-open-note)
(global-set-key &quot;\C-ces&quot; &#39;evernote-search-notes)
(global-set-key &quot;\C-ceS&quot; &#39;evernote-do-saved-search)
(global-set-key &quot;\C-cew&quot; &#39;evernote-write-note)
(global-set-key &quot;\C-cep&quot; &#39;evernote-post-region)
(global-set-key &quot;\C-ceb&quot; &#39;evernote-browser)</code></pre>
<p>I retrieved my developer token (to use instead of <code>&lt;MYTOKEN&gt;</code>) <a href="https://www.evernote.com/api/DeveloperToken.action">there</a>.</p>
<p>Side notes:</p>
<ol style="list-style-type: decimal">
<li>I also had to install <em>w3m</em> software.</li>
<li>By default the notes are in read-only XHTML mode, I use <code>M-x evernote-change-edit-mode TEXT</code> to change the edit mode to text.</li>
</ol>
</div>
<div id="simplenote" class="section level3">
<h3>Simplenote</h3>
<p>I now use <a href="https://app.simplenote.com/">Simplenote</a> instead of Evernote, in order to make sure that I have an offline version of my notes at all time. Moreover it integrates (almost completely) the Markdown format. It makes it easy to take notes and to transfer them in our wiki (e.g. for conference notes). It’s also easier to clean the notes through emacs compared to the online page or apps.</p>
<p>There is a <a href="https://github.com/alpha22jp/simplenote2.el">Emacs package</a> that can be installed using MELPA: <code>M-x package-install [RET] simplenote2 [RET]</code>.</p>
<p>The Simplenote buffer can be summoned by <code>M-x simplenote2-browse</code> or <code>M-x simplenote2-list</code>.</p>
<p>In list mode, the relevant commands are:</p>
<ul>
<li><code>g</code>: sync with the server.</li>
<li><code>a</code>: create a new note</li>
<li><code>d</code>: mark note on the current line for deletion</li>
<li><code>u</code>: unmark note on the current line for deletion</li>
<li><code>t</code>: set tags for filtering</li>
<li><code>^</code>: toggle tags filtering condition between “AND” and “OR”</li>
</ul>
<p>Other general commands include:</p>
<ul>
<li><code>simplenote2-add-tag</code> and <code>simplenote2-delete-tag</code></li>
<li><code>simplenote2-set-markdown</code></li>
</ul>
</div>
</div>
<div id="for-osx" class="section level2">
<h2>For OSX</h2>
<p><em>Update: I don’t use macs anymore so this section might be more outdated than the rest.</em></p>
<p>Here are some bits of configuration specific to OSX.</p>
<div id="maximize-window-at-opening" class="section level3">
<h3>Maximize window at opening</h3>
<p>Using the <em>maxframe</em> elisp from <a href="https://github.com/rmm5t/maxframe.el">Ryan McGeary</a>. I’ll copy the <code>maxframe.el</code> in the <em>master</em> branch of this repo in case it disappears.</p>
<pre class="lisp"><code>(require &#39;maxframe)
(add-hook &#39;window-setup-hook &#39;maximize-frame t)</code></pre>
</div>
<div id="keybindings" class="section level3">
<h3>Keybindings</h3>
<p>To change the annoying OSX bindings: paragraph jumping, home/end for line not page.</p>
<pre class="lisp"><code>(define-key function-key-map (kbd &quot;M-&lt;down&gt;&quot;) &#39;forward-paragraph)
(define-key function-key-map (kbd &quot;M-&lt;up&gt;&quot;) &#39;backward-paragraph)
(global-set-key (kbd &quot;&lt;home&gt;&quot;) &#39;beginning-of-line)
(global-set-key (kbd &quot;&lt;end&gt;&quot;) &#39;end-of-line)</code></pre>
</div>
<div id="ispell" class="section level3">
<h3>Ispell</h3>
<p>To specify where is <em>ispell</em> located.</p>
<pre class="lisp"><code>(setq ispell-program-name &quot;/usr/local/Cellar/ispell/3.4.00/bin/ispell&quot;)</code></pre>
<p>Also something about the right-click (I don’t remember why I have that).</p>
<pre class="lisp"><code>(eval-after-load &quot;flyspell&quot;
    &#39;(progn
       (define-key flyspell-mouse-map [down-mouse-3] #&#39;flyspell-correct-word)
       (define-key flyspell-mouse-map [mouse-3] #&#39;undefined)))</code></pre>
</div>
<div id="explicit-path-definition" class="section level3">
<h3>Explicit path definition</h3>
<p>For LaTeX, I specified the <em>PATH</em> in <code>.emacs</code>:</p>
<pre class="lisp"><code>(setenv &quot;PATH&quot; (concat (getenv &quot;PATH&quot;) &quot;:/usr/texbin&quot;))
(setq exec-path (append exec-path &#39;(&quot;/usr/texbin&quot;)))</code></pre>
<p>For pandoc and ESS, I defined a <em>RSTUDIO_PANDOC</em> in <code>.emacs</code>:</p>
<pre class="lisp"><code>(setenv &quot;RSTUDIO_PANDOCPATH&quot; (concat (getenv &quot;RSTUDIO_PANDOC&quot;) &quot;:/usr/local/bin&quot;))</code></pre>
</div>
</div>

</div>

      </div>
    </div>

    

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="../assets/highlight.pack.js"></script>
    <script src="../assets/r.min.js"></script>
    
    <script>
      hljs.configure({languages: ['r']});
      hljs.initHighlightingOnLoad();
    </script>

    <script src="//yihui.name/js/math-code.js"></script>
    <script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    
  </body>
</html>

